# Мастерская 2: Прогноз вероятности покупки в течение 90 дней

Проект по маркетингу для интернет-магазина.  
Цель — по истории покупок и взаимодействий с рассылками предсказать, совершит ли клиент покупку в течение ближайших 90 дней (`target`).

Основной артефакт проекта — ноутбук `marketing.ipynb`, в котором:

- проводится исследовательский анализ данных,
- создаются признаки на уровне клиента,
- обучаются несколько моделей,
- оценивается качество по метрике `ROC-AUC`.

---

## Данные

Используются три таблицы (CSV), лежащие в каталоге `filtered_data/`:

- `apparel-target_binary.csv`  
  - `client_id` — идентификатор клиента  
  - `target` — совершил ли клиент покупку в целевом периоде (0/1)

- `apparel-purchases.csv`  
  История покупок по товарам и датам:
  - `client_id` — идентификатор клиента  
  - `quantity` — количество единиц товара  
  - `price` — цена за единицу  
  - `category_ids` — список идентификаторов категорий  
  - `date` — дата покупки  
  - `message_id` — идентификатор сообщения (если покупка связана с рассылкой)

- `apparel-messages.csv`  
  История рассылок:
  - `bulk_campaign_id` — идентификатор кампании  
  - `client_id` — идентификатор клиента  
  - `message_id` — идентификатор сообщения  
  - `event` — событие с сообщением (отправлено, открыто, клик, покупка и т.п.)  
  - `channel` — канал (email, push, sms …)  
  - `date` — дата действия  
  - `created_at` — точное дата-время

Дополнительные агрегированные таблицы по кампаниям (`full_campaign_daily_event*.csv`) в текущей версии проекта **не используются**, чтобы не усложнять пайплайн и не работать с очень большим датасетом.

Исходные данные предоставляются куратором (Google Drive). В ноутбуке реализована загрузка из локальной папки `filtered_data/`.

---

## Структура проекта

- `marketing.ipynb` — основной ноутбук с кодом и анализом:
  - загрузка и первичный осмотр данных,
  - отбор нужных таблиц и полей,
  - построение признаков по покупкам (`apparel-purchases`),
  - построение признаков по рассылкам (`apparel-messages`),
  - объединение признаков с `target`,
  - EDA по финальному датасету,
  - обучение моделей и оценка качества.

- `README.md` — текущее описание проекта и инструкция по запуску.

- `requirements.txt` — список основных зависимостей для запуска ноутбука.

- `filtered_data/` *(создаётся пользователем)*:
  - `apparel-target_binary.csv`
  - `apparel-purchases.csv`
  - `apparel-messages.csv`
  - (опционально) другие CSV с кампаниями

---

## Подготовка окружения

Требуется:

- Python 3.9+  
- Jupyter Notebook / JupyterLab

Установка зависимостей:

```bash
pip install -r requirements.txt
